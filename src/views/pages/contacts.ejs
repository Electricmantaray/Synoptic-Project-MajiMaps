<section id="<%= contacts.id %>" class="flex items-start justify-center bg-gradient-to-b from-white to-black px-6 py-8 scroll-mt-32">
    <div
        class="flex w-full max-w-[1400px] rounded-[25px] bg-black/75 px-10 py-8 shadow-inner shadow-black backdrop-blur-sm">
        <!-- Container split into two halves -->
        <div class="flex flex-col gap-10 lg:flex-row w-full">
            <!-- Left half: Contact Us -->
            <div class="w-full lg:w-1/2 flex flex-col gap-10">
                <!-- Header + description + divider -->
                <div class="flex flex-col items-center gap-3 text-center text-white">
                    <h2 class="<%= contacts.contactUs.header.titleStyle %>"><%= contacts.contactUs.header.title %></h2>
                    <p class="<%= contacts.contactUs.header.descriptionStyle %>"><%= contacts.contactUs.header.description %></p>
                    <div class="<%= contacts.contactUs.header.dividerStyle %>"></div>
                </div>

                <!-- Form -->
                <form id="<%= contacts.contactUs.form.id %>" action="<%= contacts.contactUs.form.action %>" method="<%= contacts.contactUs.form.method %>" class="<%= contacts.contactUs.form.style %>" <%= contacts.contactUs.form.novalidate ? 'novalidate' : '' %>>
                    <% ['reason', 'email', 'message'].forEach((entry) => { const field = contacts.contactUs.form[entry]; %>
                        <div class="<%= field.containerStyle %>">
                            <label 
                                for="<%= field.id %>" 
                                class="<%= field.labelStyle %>"><%= field.labelText %></label>

                            <% if (field.type === 'textarea') { %>
                                <textarea 
                                    id="<%= field.id %>" 
                                    name="<%= field.name %>" 
                                    placeholder="<%= field.placeholder %>"
                                    class="<%= field.inputStyle %>"
                                    <%= field.required ? 'required' : '' %>></textarea>
                            <% } else { %>
                                <input 
                                    type="<%= field.type %>" 
                                    id="<%= field.id %>" 
                                    name="<%= field.name %>"  
                                    placeholder="<%= field.placeholder %>"
                                    class="<%= field.inputStyle %>"
                                    <%= field.required ? 'required' : '' %> />
                            <% } %>
                        </div>
                    <% }) %>
                    <div class="<%= contacts.contactUs.form.submitButton.containerStyle %>">
                        <button 
                            type="<%= contacts.contactUs.form.submitButton.type %>"
                            class="<%= contacts.contactUs.form.submitButton.style %>"><%= contacts.contactUs.form.submitButton.text %></button>
                    </div>
                </form>
                <p id="<%= contacts.contactUs.form.error.id %>" class="<%= contacts.contactUs.form.error.style %>"></p>


                <!-- Local Resources Section -->
                <div class="<%= contacts.contactUs.localResources.style %>">
                    <h3 class="<%= contacts.contactUs.localResources.titleStyle %>"><%= contacts.contactUs.localResources.title %></h3>
                    <p class="<%= contacts.contactUs.localResources.textStyle %>">
                        <% contacts.contactUs.localResources.contacts.forEach((line) => { %>
                            <%= line %><br />
                        <% }) %>
                    </p>
                </div>
            </div>

            <!-- Vertical separator -->
            <div class="hidden lg:block w-[2px] bg-white/30 mx-6"></div>

            <!-- Right half: Email Service -->
            <div class="w-full lg:w-1/2 mt-10 lg:mt-0 flex flex-col gap-10">
                <!-- Header + description + divider -->
                <div class="flex flex-col items-center gap-3 text-center text-white">
                    <h2 class="<%= contacts.emailService.header.titleStyle %>"><%= contacts.emailService.header.title %></h2>
                    <p class="<%= contacts.emailService.header.descriptionStyle %>"><%= contacts.emailService.header.description %></p>
                    <div class="<%= contacts.emailService.header.dividerStyle %>"></div>
                </div>

                <!-- Form -->
                <form id="<%= contacts.emailService.form.id %>" action="<%= contacts.emailService.form.action %>" method="<%= contacts.emailService.form.method %>" class="<%= contacts.emailService.form.style %>" <%= contacts.emailService.form.novalidate ? 'novalidate' : '' %>>
                    <% ['forename', 'surname', 'email'].forEach((entry) => { field = contacts.emailService.form[entry]; %> 
                        <div class="<%= field.containerStyle %>">
                            <label 
                                for="<%= field.id %>" 
                                class="<%= field.labelStyle %>"><%= field.labelText %></label>
                            
                            <input 
                                type="<%= field.type %>" 
                                id="<%= field.id %>" 
                                name="<%= field.name %>" 
                                placeholder="<%= field.placeholder %>"
                                class="<%= field.inputStyle %>"
                                <%= field.required ? 'required' : '' %> />
                        </div>
                    <% }) %>

                    <!-- Subscription preference -->
                    <fieldset class="<%= contacts.emailService.form.preferences.containerStyle %>">
                        <legend class="<%= contacts.emailService.form.preferences.legendStyle %>"><%= contacts.emailService.form.preferences.legendText %></legend>
                        <div class="<%= contacts.emailService.form.preferences.inputContainerStyle %>">
                            <% contacts.emailService.form.preferences.options.forEach(option => { %>
                                <label class="<%= option.labelStyle %>">
                                    <input 
                                        type="<%= option.type %>"
                                        name="<%= option.name %>" 
                                        value="<%= option.value %>"
                                        class="<%= option.inputStyle %>" />
                                    <%= option.text %>
                                </label>
                            <% }) %>
                        </div>
                    </fieldset>

                    <div class="<%= contacts.emailService.form.submitButton.containerStyle %>">
                        <button 
                            type="<%= contacts.emailService.form.submitButton.type %>"
                            class="<%= contacts.emailService.form.submitButton.style %>"><%= contacts.emailService.form.submitButton.text %></button>
                    </div>
                </form>
                <p id="<%= contacts.emailService.form.error.id %>" class="<%= contacts.emailService.form.error.style %>"></p>
            </div>
        </div>
    </div>
</section>